<Controls:MetroWindow x:Class="Reconstruction3D.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:i="clr-namespace:System.Windows.Interactivity;assembly=System.Windows.Interactivity"
        xmlns:Controls="http://metro.mahapps.com/winfx/xaml/controls"
        xmlns:vm="clr-namespace:Reconstruction3D.ViewModels"
        xmlns:sharpGL="clr-namespace:SharpGL.WPF;assembly=SharpGL.WPF"
        Title="Reconstruction3D" Height="600" Width="1000"       
        >

    <Controls:MetroWindow.Resources>
        <vm:Commands x:Key="Commands"/>
    </Controls:MetroWindow.Resources>

    <Grid DataContext="{StaticResource ResourceKey=Commands}">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="169*"/>
            <ColumnDefinition Width="327*"/>
        </Grid.ColumnDefinitions>

        <ToolBarPanel DockPanel.Dock="Top">
            <ToolBar>
                <Label Target="{Binding ElementName=comboRenderMode}">Render Mode</Label>
                <ComboBox x:Name="comboRenderMode" SelectedIndex="0" Width="140">
                    <ComboBoxItem>Retained Mode</ComboBoxItem>
                    <ComboBoxItem>Immediate Mode</ComboBoxItem>
                </ComboBox>
                <CheckBox x:Name="checkBoxUseToonShader" Content="Use Toon Shader" />
            </ToolBar>
        </ToolBarPanel>

        <Button Content="Open File" Command="{Binding OpenFile}" HorizontalAlignment="Left" Margin="33,33,0,0" VerticalAlignment="Top" Width="75" Grid.Column="0" Height="25"/>
        <Image Source="{Binding ImagePath}" HorizontalAlignment="Left" Height="169" Margin="33,88,0,0" VerticalAlignment="Top" Width="249" Grid.Column="0"/>

        <sharpGL:OpenGLControl OpenGLInitialized="Init" OpenGLDraw="Draw" Resized="Resize" Grid.Column="1" Margin="0,88,42,80" RenderContextType="FBO"/>

    </Grid>

</Controls:MetroWindow>